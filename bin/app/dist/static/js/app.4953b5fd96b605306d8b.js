webpackJsonp([1],{0:function(e,t){},"0qmK":function(e,t){e.exports={checkId:function(e){var t=void 0,r=new Array;if(r=e.split(""),null=={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}[parseInt(e.substr(0,2))])return!1;switch(e.length){case 15:return(parseInt(e.substr(6,2))+1900)%4==0||(parseInt(e.substr(6,2))+1900)%100==0&&(parseInt(e.substr(6,2))+1900)%4==0?ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/,!!ereg.test(e);case 18:return parseInt(e.substr(6,4))%4==0||parseInt(e.substr(6,4))%100==0&&parseInt(e.substr(6,4))%4==0?ereg=/^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:ereg=/^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/,!!ereg.test(e)&&(t=7*(parseInt(r[0])+parseInt(r[10]))+9*(parseInt(r[1])+parseInt(r[11]))+10*(parseInt(r[2])+parseInt(r[12]))+5*(parseInt(r[3])+parseInt(r[13]))+8*(parseInt(r[4])+parseInt(r[14]))+4*(parseInt(r[5])+parseInt(r[15]))+2*(parseInt(r[6])+parseInt(r[16]))+1*parseInt(r[7])+6*parseInt(r[8])+3*parseInt(r[9]),"10X98765432".substr(t%11,1)==r[17]);default:return!1}},checkPhone:function(e){if(/^1[3|4|5|7|8][0-9]{9}$/.test(e))return!0}}},"19Z9":function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"",""])},E51W:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{ref:"content",staticClass:"content"},[t("div",[t("router-view")],1)])])},staticRenderFns:[]};var a=r("VU/8")({name:"app"},s,!1,function(e){r("hPbQ")},null,null).exports,n=r("/ocq"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"index"},[t("mu-button",{on:{click:this.goRecord}},[this._v("查询")]),this._v(" "),t("mu-button",{on:{click:this.goSaveRecord}},[this._v("录入")])],1)},staticRenderFns:[]};var l=r("VU/8")({name:"index",data:function(){return{}},created:function(){},methods:{goRecord:function(){this.$router.push("/record")},goSaveRecord:function(){this.$router.push("/saveRecord")}}},i,!1,function(e){r("hXY8")},null,null).exports,u=r("woOf"),m=r.n(u),c=r("0qmK"),p={name:"register",data:function(){return{dialogMsg:"",openDialog:!1,usernameRules:[{validate:function(e){return e.length>0},message:"必须填写姓名"}],idRules:[{validate:function(e){return Object(c.checkId)(e)},message:"身份证号码校验错误"}],phoneRules:[{validate:function(e){return Object(c.checkPhone)(e)},message:"不是完整的11位手机号或者正确的手机号前七位"}],passwordRules:[{validate:function(e){return e.length>6},message:"密码必须大于6位数"}],form:{userName:"",idCard:"",phone:"",password:"",sex:0},sexArr:["女","男"]}},created:function(){},methods:{closeDialog:function(){this.openDialog=!1},submit:function(){var e=this;this.$refs.form.validate().then(function(t){if(t){var r=m()({},e.form);e.register(r)}})},register:function(e){var t=this;this.$http.post("api/register",e).then(function(e){e.body.status?(t.dialogMsg="注册成功",t.openDialog=!0):(t.dialogMsg="注册失败",t.openDialog=!0)},function(e){console.log(e)})}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("mu-container",[r("mu-form",{ref:"form",attrs:{model:e.form}},[r("mu-form-item",{attrs:{label:"姓名","help-text":"",rules:e.usernameRules,prop:"userName"}},[r("mu-text-field",{attrs:{prop:"userName"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"身份证号","help-text":"",rules:e.idRules,prop:"idCard"}},[r("mu-text-field",{attrs:{prop:"idCard"},model:{value:e.form.idCard,callback:function(t){e.$set(e.form,"idCard",t)},expression:"form.idCard"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"手机号","help-text":"",rules:e.phoneRules,prop:"phone"}},[r("mu-text-field",{attrs:{prop:"phone"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"密码","help-text":"",rules:e.passwordRules,prop:"password"}},[r("mu-text-field",{attrs:{type:"password",prop:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("mu-form-item",e._l(e.sexArr,function(t,o){return r("mu-flex",{key:"radio "+t,staticClass:"select-control-row"},[r("mu-radio",{attrs:{value:o,label:t},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}})],1)})),e._v(" "),r("mu-form-item",[r("mu-button",{ref:"submitButton",attrs:{color:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1),e._v(" "),r("mu-dialog",{attrs:{title:"",width:"400",open:e.openDialog},on:{"update:open":function(t){e.openDialog=t}}},[e._v("\n    "+e._s(e.dialogMsg)+"\n    "),r("mu-button",{attrs:{slot:"actions",flat:"",color:"primary"},on:{click:e.closeDialog},slot:"actions"},[e._v("关闭")])],1)],1)},staticRenderFns:[]};var f=r("VU/8")(p,d,!1,function(e){r("zX0s")},null,null).exports,h={name:"record",data:function(){return{list:[],showOut:!0,showIn:!1,form:{idCard:"",startTime:void 0,endTime:void 0,category:"",password:""},idRules:[{validate:function(e){return Object(c.checkId)(e)},message:"身份证号码校验错误"}],categoryRules:[{validate:function(e){return e.length>0},message:"科室信息为必填项"}],passwordRules:[{validate:function(e){return e.length>6},message:"密码必须大于6位数"}],startRules:[{validate:function(e){return void 0!==e},message:"请选择起始时间"}],endRules:[{validate:function(e){return void 0!==e},message:"请选择结束时间"}],sort:{date:"",order:"desc"},columns:[{title:"诊断时间",name:"date",width:126,sortable:!0},{title:"医院",name:"hospital",width:126},{title:"科室",name:"category",width:126},{title:"检测项目",name:"item",width:126},{title:"诊断结果",name:"proposal",width:300}]}},created:function(){},methods:{submit:function(){var e=this;this.$refs.form.validate().then(function(t){if(!t){var r=m()({},e.form);e.$http.post("api/record",r).then(function(t){e.list=t.body.MedicalRecord,e.showOut=!1,setTimeout(function(){e.showIn=!0},1e3)})}})},handleSortChange:function(e){var t=e.name,r=e.order;this.list=this.list.sort(function(e,o){return"asc"===r?e[t]-o[t]:o[t]-e[t]})},goRecord:function(){var e=this;this.showIn=!1,setTimeout(function(){e.showOut=!0},1e3)}}},v={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"record"},[r("div",{staticClass:"search"},[r("mu-slide-left-transition",{attrs:{mode:"in-out"}},[r("mu-container",{directives:[{name:"show",rawName:"v-show",value:e.showOut,expression:"showOut"}]},[r("mu-form",{ref:"form",attrs:{model:e.form}},[r("mu-form-item",{attrs:{label:"身份证号","help-text":"",rules:e.idRules,prop:"idCard"}},[r("mu-text-field",{attrs:{prop:"idCard"},model:{value:e.form.idCard,callback:function(t){e.$set(e.form,"idCard",t)},expression:"form.idCard"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"起始时间","help-text":"",rules:e.startRules,prop:"startTime"}},[r("mu-date-input",{attrs:{"max-date":e.form.endTime,"label-float":"","full-width":"",prop:"startTime"},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"结束时间","help-text":"",rules:e.endRules,prop:"endTime"}},[r("mu-date-input",{attrs:{"min-date":e.form.startTime,"label-float":"","full-width":"",prop:"endTime"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"科室","help-text":"",rules:e.categoryRules,prop:"category"}},[r("mu-text-field",{attrs:{prop:"category"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"密码","help-text":"",rules:e.passwordRules,prop:"password"}},[r("mu-text-field",{attrs:{type:"password",prop:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("mu-form-item",[r("mu-button",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("查询")])],1)],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"showRecord"},[r("mu-slide-right-transition",{attrs:{mode:"out-in"}},[r("mu-container",{directives:[{name:"show",rawName:"v-show",value:e.showIn,expression:"showIn"}]},[r("mu-button",{on:{click:e.goRecord}},[e._v("查询")]),e._v(" "),r("mu-paper",[r("mu-data-table",{attrs:{columns:e.columns,sort:e.sort,data:e.list},on:{"update:sort":function(t){e.sort=t},"sort-change":e.handleSortChange,"update:data":function(t){e.list=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[r("td",{staticClass:"is-left"},[e._v(e._s(t.row.date))]),e._v(" "),r("td",{staticClass:"is-left"},[e._v(e._s(t.row.hospital))]),e._v(" "),r("td",{staticClass:"is-left"},[e._v(e._s(t.row.category))]),e._v(" "),r("td",{staticClass:"is-left"},[e._v(e._s(t.row.item))]),e._v(" "),r("td",{staticClass:"is-left"},[e._v(e._s(t.row.proposal)+"%")])]}}])})],1)],1)],1)],1)])},staticRenderFns:[]};var g=r("VU/8")(h,v,!1,function(e){r("gghq")},null,null).exports,x={name:"record",data:function(){return{dialogMsg:"",openDialog:!1,form:{idCard:"",hospital:"",item:"",category:"",proposal:"",date:"",password:""},idRules:[{validate:function(e){return Object(c.checkId)(e)},message:"身份证号码校验错误"}],hospitalRules:[{validate:function(e){return e.length>0},message:"医院为必填项"}],categoryRules:[{validate:function(e){return e.length>0},message:"科室信息为必填项"}],itemRules:[{validate:function(e){return e.length>0},message:"检测项目为必填项"}],proposalRules:[{validate:function(e){return e.length>0},message:"诊断结果为必填项"}],dateRules:[{validate:function(e){return void 0!==e},message:"请选择记录日期"}],passwordRules:[{validate:function(e){return e.length>6},message:"密码必须大于6位数"}]}},created:function(){},methods:{closeDialog:function(){this.openDialog=!1},submit:function(){var e=this;this.$refs.form.validate().then(function(t){if(t){var r=m()({},e.form);e.$http.post("api/saveRecord",r).then(function(t){t.body.status?(e.dialogMsg="上链成功",e.openDialog=!0):(e.dialogMsg="上链失败",e.openDialog=!0)})}})}}},b={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"index"},[r("mu-container",[r("mu-form",{ref:"form",attrs:{model:e.form}},[r("mu-form-item",{attrs:{label:"身份证号","help-text":"",rules:e.idRules,prop:"idCard"}},[r("mu-text-field",{attrs:{prop:"idCard"},model:{value:e.form.idCard,callback:function(t){e.$set(e.form,"idCard",t)},expression:"form.idCard"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"医院","help-text":"",rules:e.hospitalRules,prop:"hospital"}},[r("mu-text-field",{attrs:{prop:"hospital"},model:{value:e.form.hospital,callback:function(t){e.$set(e.form,"hospital",t)},expression:"form.hospital"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"科室","help-text":"",rules:e.categoryRules,prop:"category"}},[r("mu-text-field",{attrs:{prop:"category"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"检测项目","help-text":"",rules:e.itemRules,prop:"item"}},[r("mu-text-field",{attrs:{prop:"item"},model:{value:e.form.item,callback:function(t){e.$set(e.form,"item",t)},expression:"form.item"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"诊断结果","help-text":"",rules:e.proposalRules,prop:"proposal"}},[r("mu-text-field",{attrs:{prop:"proposal"},model:{value:e.form.proposal,callback:function(t){e.$set(e.form,"proposal",t)},expression:"form.proposal"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"记录日期","help-text":"",rules:e.dateRules,prop:"date"}},[r("mu-date-input",{attrs:{"label-float":"","full-width":""},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),r("mu-form-item",{attrs:{label:"密码","help-text":"",rules:e.passwordRules,prop:"password"}},[r("mu-text-field",{attrs:{type:"password",prop:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("mu-form-item",[r("mu-button",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("查询")])],1)],1)],1),e._v(" "),r("mu-dialog",{attrs:{title:"",width:"400",open:e.openDialog},on:{"update:open":function(t){e.openDialog=t}}},[e._v("\n    "+e._s(e.dialogMsg)+"\n    "),r("mu-button",{attrs:{slot:"actions",flat:"",color:"primary"},on:{click:e.closeDialog},slot:"actions"},[e._v("关闭")])],1)],1)},staticRenderFns:[]};var w=r("VU/8")(x,b,!1,function(e){r("vo7L")},null,null).exports;o.a.use(n.a);var _=new n.a({routes:[{path:"/",name:"index",component:l},{path:"/register",name:"register",component:f},{path:"/record",name:"record",component:g},{path:"/saveRecord",name:"saveRecord",component:w}]}),R=r("8+8L"),y=r("aFc6");r("E51W");o.a.config.productionTip=!1,o.a.use(R.a),o.a.use(y.a),new o.a({el:"#app",router:_,template:"<App/>",components:{App:a}})},R1T7:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"",""])},a75i:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,".mu-demo-form{width:100%;max-width:460px}",""])},gghq:function(e,t,r){var o=r("19Z9");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("339557e2",o,!0,{})},hPbQ:function(e,t,r){var o=r("x1Qc");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("0e05561e",o,!0,{})},hXY8:function(e,t,r){var o=r("R1T7");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("70cbf04a",o,!0,{})},vmo0:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"",""])},vo7L:function(e,t,r){var o=r("vmo0");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("73e00fe2",o,!0,{})},x1Qc:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"",""])},zX0s:function(e,t,r){var o=r("a75i");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("4b32bcf6",o,!0,{})}},["NHnr"]);
//# sourceMappingURL=app.4953b5fd96b605306d8b.js.map